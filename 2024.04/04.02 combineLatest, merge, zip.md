# Today I Learned ğŸ¤“

> 2024.04.02 (í™”)

## combineLatest(_:_:)

> ì¶”ê°€ publisherë¥¼ êµ¬ë…í•˜ê³  ëª¨ë“  publisherì˜ ì¶œë ¥ì„ ë°›ìœ¼ë©´ í´ë¡œì €ë¥¼ í˜¸ì¶œí•˜ì—¬ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œ
> 
> `iOS 13.0+` `iPadOS 13.0+` `macOS 10.15+`

```swift
func combineLatest<P, T>(
    _ other: P,
    _ transform: @escaping (Self.Output, P.Output) -> T
) -> Publishers.Map<Publishers.CombineLatest<Self, P>, T> where P : Publisher, Self.Failure == P.Failure
```

### íŒŒë¼ë¯¸í„°

- other: ê²°í•©í•  ë˜ ë‹¤ë¥¸ publisher
- transform: ê° publisherë¡œë¶€í„° ê°€ì¥ ìµœê·¼ì˜ ê°’ì„ ë°›ê³  publish í•  ìƒˆë¡œìš´ ê°’ì„ ë°˜í™˜í•˜ëŠ” í´ë¡œì €

### ì–¸ì œ ì‚¬ìš©í• ê¹Œ?

ë‘ ê°œì˜ publisherì˜ ê°’ìœ¼ë¡œ ìƒˆë¡œìš´ ê°’ì„ ë°›ê³  ì‹¶ì„ ë•Œ combineLatestë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

combineLatestëŠ” ë‘ ê°œì˜ publisherê°€ ëª¨ë‘ ê°’ì„ ë°˜í™˜í–ˆì„ ë•Œ ìƒˆë¡œìš´ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤. í•˜ì—¬ pub1ì´ pub2ì˜ ê°’ì´ send ë˜ê¸° ì „ì— ì—¬ëŸ¬ ë²ˆ ê°’ì„ ë³´ëƒˆë”ë¼ë„ ê°€ì¥ ìµœê·¼ì˜ ê°’ìœ¼ë¡œ í´ë¡œì €ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

```swift
let pub1 = PassthroughSubject<Int, Never>()
let pub2 = PassthroughSubject<Int, Never>()

cancellable = pub1
    .combineLatest(pub2) { $0 + $1 }
    .sink { print($0) }

pub1.send(1)
pub1.send(2)
pub1.send(3)
pub2.send(2)
pub1.send(9)
pub1.send(3)
pub2.send(12)
pub1.send(13)

// prints "5"
// prints "11"
// prints "5"
// prints "15"
// prints "25"
```

<br>

## merge(with:)

> publisher ìš”ì†Œë¥¼ ê°™ì€ ìœ í˜•ì˜ ë‹¤ë¥¸ publisherì˜ ìš”ì†Œì™€ ê²°í•©í•˜ì—¬ ì¼ë ¨ì˜ ìš”ì†Œë¥¼ ì œê³µí•˜ëŠ” ë©”ì„œë“œ
> 
> `iOS 13.0+` `iPadOS 13.0+` `macOS 10.15+`

```swift
func merge(with other: Self) -> Publishers.MergeMany<Self>
```

### ì–¸ì œ ì‚¬ìš©í• ê¹Œ?

ë‘ ê°œì˜ ìŠ¤íŠ¸ë¦¼ì„ í•˜ë‚˜ì˜ sinkë¡œ ì²˜ë¦¬í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
let pub1 = PassthroughSubject<Int, Never>()
let pub2 = PassthroughSubject<Int, Never>()

cancellable = pub1
    .merge(with: pub2)
    .sink { print($0) }

pub1.send(1)
pub2.send(2)
pub1.send(3)
pub2.send(4)
pub1.send(5)

// prints "1"
// prints "2"
// prints "3"
// prints "4"
// prints "5"
```

<br>

## zip(_:)

> publisher ìš”ì†Œë¥¼ ê²°í•©í•˜ê³  ìš”ì†Œ ìŒì„ íŠœí”Œë¡œ ì œê³µí•˜ëŠ” ë©”ì„œë“œ
> 
> `iOS 13.0+` `iPadOS 13.0+` `macOS 10.15+`

```swift
func zip<P>(_ other: P) -> Publishers.Zip<Self, P> where P : Publisher, Self.Failure == P.Failure
```

### ì–¸ì œ ì‚¬ìš©í• ê¹Œ?

ë‘ ê°œì˜ publisherì˜ ìš”ì†Œë¥¼ ê²°í•©í•˜ì—¬ ë°˜í™˜ë°›ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

zipì€ ë‘ publisherê°€ ëª¨ë‘ ê°’ì„ ë°˜í™˜í•˜ë©´ ê° publisherì˜ ê°€ì¥ ì˜¤ë˜ëœ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê°’ì„ íŠœí”Œë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

```swift
let numbersPub = PassthroughSubject<Int, Never>()
let lettersPub = PassthroughSubject<String, Never>()

cancellable = numbersPub
    .zip(lettersPub)
    .sink { print("num: \($0.0), str: \($0.1)") }

numbersPub.send(1)
numbersPub.send(2)
lettersPub.send("A")
numbersPub.send(3)
lettersPub.send("B")

// prints "num: 1, str: A"
// prints "num: 2, str: B"
```

<br>


---
## ì°¸ê³  ë§í¬
- [Apple Developer: combineLatest(_:_:)](https://developer.apple.com/documentation/combine/just/combinelatest(_:_:)-20das)
- [Apple Developer: merge(with:)](https://developer.apple.com/documentation/combine/just/merge(with:))
- [Apple Developer: zip(_:)](https://developer.apple.com/documentation/combine/just/zip(_:))
