# Today I Learned ğŸ¤“

> 2024.04.03 (ìˆ˜)

## Exception

í”„ë¡œê·¸ë¨ì€ í•­ìƒ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ê°€ëŠ¥ì„±ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

ê°œë°œìê°€ ì–´ë–»ê²Œ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ëŠ”ì§€ì— ë”°ë¼ í”„ë¡œê·¸ë¨ì€ ë”ìš± ì‚¬ìš©ìì™€ ê°œë°œìì—ê²Œ ì¹œí™”ì ì¸ í”„ë¡œê·¸ë¨ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì˜¤ëŠ˜ì€ ì—ëŸ¬ ì²˜ë¦¬ì™€ ê´€ë ¨ëœ ëª‡ ê°€ì§€ ì•„ì´ë””ì–´ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

<br>

## assert(_:_:file:line:)

> ì„ íƒì  ë©”ì‹œì§€ë¡œ ì „í†µì ì¸ C ìŠ¤íƒ€ì¼ assert ìˆ˜í–‰í•˜ëŠ” ë©”ì„œë“œ
> 
> `iOS 8.0+` `iPadOS 8.0+` `macOS 10.10+`

```swift
func assert(
    _ condition: @autoclosure () -> Bool,
    _ message: @autoclosure () -> String = String(),
    file: StaticString = #file,
    line: UInt = #line
)
```

### ê°œë°œ ì‹œ ì—ëŸ¬ ì²´í¬

assertëŠ” íŠ¹ì • ì¡°ê±´ì„ í• ë‹¹í•˜ì—¬, ì¡°ê±´ì´ ì„±ë¦½í•˜ì§€ ì•Šìœ¼ë©´ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤. 

í•˜ì§€ë§Œ ì‹¤ì œ ë°°í¬ëœ ì•± ì„±ëŠ¥ì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•Šê¸° ë•Œë¬¸ì— ê°œë°œ ë° ë‚´ë¶€ í…ŒìŠ¤íŒ… ì‹œ íŠ¹ì • ì¡°ê±´ì„ ì²´í¬í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br>

### ì‚¬ìš©ìë¥¼ ìœ„í•œ ì—ëŸ¬ ë©”ì‹œì§€

ìš°ë¦¬ê°€ í”íˆ LocalizedErrorë¥¼ ì´ìš©í•´ êµ¬í˜„í•˜ëŠ” localizedDescriptionì€ ì‚¬ìš©ìë¥¼ ìœ„í•œ ì—ëŸ¬ ë©”ì‹œì§€ê°€ ì•„ë‹™ë‹ˆë‹¤.

í•˜ì—¬ errorì— ë”°ë¥¸ ì‚¬ìš©ì ë©”ì‹œì§€ë¥¼ ì œê³µí•˜ê³  ì‹¶ì€ ê²½ìš° UserReadableErrorì™€ ê°™ì€ Protocolì„ ë§Œë“¤ì–´ userMessageë¥¼ êµ¬í˜„ ë° ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
protocol UserReadableError: Error {
    var userMessage: String? { get }
}

enum CustomError: UserReadableError {
    case error1
    case error2
    
    var userMessage: String? {
        switch self {
        case .error1, .error2:
            return "ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”."
        }
    }
}
```

<br>

### ì—ëŸ¬ ì½”ë“œ í™œìš©

Swiftì—ì„œ ErrorëŠ” Protocolì´ê¸° ë•Œë¬¸ì— ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” Enum ì™¸ì—ë„ ì—¬ëŸ¬ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í•˜ì—¬ Enumì„ ì´ìš©í•˜ì—¬ case ë³„ë¡œ ì—ëŸ¬ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì´ ì•„ë‹Œ Http errorì™€ ê°™ì´ codeì™€ messageë¥¼ ì´ìš©í•´ ì—ëŸ¬ë¥¼ ì œê³µ ë° ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
protocol CodeableError: UserReadableError {
    var code: Int { get }
    var message: String { get }
}

struct CustomError: CodeableError {
    var code: Int
    var message: String
    
    var userMessage: String? {
        switch code {
        case 0...99:
            "ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•˜ê³  ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”."
        case 100...199:
            "ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”."
        default:
            "ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”. ê³„ì†í•´ì„œ ì•ˆ ë  ê²½ìš° ë¬¸ì˜í•´ì£¼ì„¸ìš”."
        }
    }
}
```

ì—ëŸ¬ë¥¼ ë˜ì§€ëŠ” ë¶€ë¶„ì—ì„œëŠ” code ë° messageë¥¼ í• ë‹¹í•˜ì—¬ ì—ëŸ¬ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
func printNumber(_ number: Int?) throws {
    guard let number = number
    else { throw CustomError(code: 404, message: "Number is an optional type.") }
    
    print("number: \(number)")
}

do {
    try printNumber(nil)
} catch {
    let error = error as! CustomError
    print("code: \(error.code), message: \(error.message)")
    print(error.message)
}

// prints "code: 404, message: Number is an optional type."
// prints "ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”. ê³„ì†í•´ì„œ ì•ˆ ë  ê²½ìš° ë¬¸ì˜í•´ì£¼ì„¸ìš”."
```

---
## ì°¸ê³  ë§í¬
- [Apple Developer: assert(_:_:file:line:)](https://developer.apple.com/documentation/swift/assert(_:_:file:line:))
