# Today I Learned ğŸ¤“

> 2024.02.23 (ê¸ˆ)

## UserNotifications

> ì„œë²„ì—ì„œ ì‚¬ìš©ì ëŒ€ë©´ ì•Œë¦¼ì„ ì‚¬ìš©ìì˜ ì¥ì¹˜ë¡œ í‘¸ì‹œ í•˜ê±°ë‚˜ ì•±ì—ì„œ ë¡œì»¬ë¡œ ìƒì„±í•  ìˆ˜ ìˆëŠ” í”„ë ˆì„ì›Œí¬
> 
> `iOS 10.0+` `macOS 10.14+`

### ì–¸ì œ ì‚¬ìš©í• ê¹Œ?

UserNotificationsë¥¼ ì‚¬ìš©í•´ ì•±ì´ ì‹¤í–‰ ì¤‘ì¸ì§€ì— ê´€ê³„ì—†ì´ ì‚¬ìš©ìì—ê²Œ ì¤‘ìš”í•œ ì •ë³´ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br>

## UNUserNotificationCenter

> ì•± ë˜ëŠ” ì•± í™•ì¥ í”„ë¡œê·¸ë¨ì— ëŒ€í•œ ì•Œë¦¼ ê´€ë ¨ í™œë™ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ê°ì²´
> 
> `iOS 10.0+` `macOS 10.14+`

```swift
class UNUserNotificationCenter
```

### ì–¸ì œ ì‚¬ìš©í• ê¹Œ?

UNUserNotificationCenterë¥¼ ì‚¬ìš©í•˜ì—¬ ì•± ë˜ëŠ” ì•± í™•ì¥ í”„ë¡œê·¸ë¨ì˜ ëª¨ë“  ì•Œë¦¼ ê´€ë ¨ ë™ì‘ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë˜í•œ ì‚¬ìš©ìì™€ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì„ ìš”ì²­í•˜ê³ , ì•±ì—ì„œ ì•Œë¦¼ì„ ì˜ˆì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br>

### Local Notification

UNUserNotificationCenterë¥¼ ì´ìš©í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ê¶Œí•œì„ ìš”ì²­í•˜ê³ , ë¡œì»¬ ì•Œë¦¼ì„ ë§Œë“¤ê³  ì˜ˆì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ê¶Œí•œ ìš”ì²­**

ì•Œë¦¼ì„ ì˜ˆì•½í•˜ê¸° ì´ì „ì— ì‚¬ìš©ìì—ê²Œ ê¶Œí•œì„ ìš”ì²­í•´ì•¼ í•©ë‹ˆë‹¤.

requestAuthorizationë¥¼ ì´ìš©í•´ ìš”ì²­í•  ê¶Œí•œì„ ì„¤ì •í•˜ê³ , ì‚¬ìš©ì ì…ë ¥ì— ëŒ€í•œ Handling ì½”ë“œë¥¼ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
UNUserNotificationCenter.current().requestAuthorization(
  options: [.alert, .badge, .sound],
  completionHandler: { isApprove, error in
    if isApprove {
      print("User Approve Notifications")
    }
    
    if let error {
      print(error.localizedDescription)
    }
  }
)
```

**ì•Œë¦¼ ì˜ˆì•½**

UNMutableNotificationContentì„ ì´ìš©í•´ ì•Œë¦¼ì˜ ì œëª©, ë¶€ì œ, ì†Œë¦¬ ë“±ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ UNTimeIntervalNotificationTriggerë¥¼ ì´ìš©í•´ ì•Œë¦¼ì´ ê²Œì‹œë˜ëŠ” ì‹œê°„ê³¼ ë°˜ë³µ ì—¬ë¶€ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

NotificationTriggerëŠ” TimeInterval ì™¸ì—ë„ Calender, Location, Push ë“±ì˜ NotificationTriggerê°€ ì¡´ì¬í•˜ë©°, ê°ì ì•Œë¦¼ì´ Trigger ë˜ëŠ” ë³„ë„ì˜ ì¡°ê±´ì„ ì œê³µí•©ë‹ˆë‹¤.

ìƒì„±í•œ Contentì™€ Triggerë¥¼ ì´ìš©í•´ UNNotificationRequestë¥¼ ë§Œë“¤ì–´ UNUserNotificationCenterì— addí•˜ëŠ” ê²ƒìœ¼ë¡œ ì•Œë¦¼ì„ ì˜ˆì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
let content = UNMutableNotificationContent()
content.title = "UserNotification"
content.subtitle = "Hello, This is UserNotification"
content.sound = UNNotificationSound.default

let trigger = UNTimeIntervalNotificationTrigger(
  timeInterval: 5,
  repeats: false
)

let request = UNNotificationRequest(
  identifier: "New UserNotification",
  content: content,
  trigger: trigger
)

UNUserNotificationCenter.current().add(request)
```

---
## ì°¸ê³  ë§í¬
- [Apple Developer: UserNotifications](https://developer.apple.com/documentation/usernotifications)
- [Apple Developer: UNUserNotificationCenter](https://developer.apple.com/documentation/usernotifications/unusernotificationcenter)
