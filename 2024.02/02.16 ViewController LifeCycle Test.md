# Today I Learned 🤓

> 2024.02.16 (금)

## ViewController LifeCycle Test

ViewController는 View의 가시성이 변경되면 하위 클래스가 변경 사항에 응답할 수 있도록 자체 메서드를 자동으로 호출합니다.

Modal과 NavigationController를 사용하는 화면 이동에서 LifeCycle 메서드가 어떤 순서로 호출되는지 살펴보겠습니다.

### Present

Modal의 기본 방식으로 present 했을 때의 메서드 호출을 살펴보겠습니다.

첫 번째 ViewController가 사용자에게 보이게 될 때 ViewController의 viewDidLoad, viewWillAppear, viewDidAppear가 순서대로 호출됩니다.

```llvm
ViewController viewDidLoad
ViewController viewWillAppear
ViewController viewDidAppear
```

SecondViewController를 present 하면 SecondViewController의 viewDidLoad, viewWillAppear, viewDidAppear가 순서대로 호출됩니다. 

하지만 기존의 ViewController는 완전히 가려지지 않기 때문에 ViewController의 메서드는 호출되지 않습니다.

```llvm
SecondViewController viewDidLoad
SecondViewController viewWillAppear
SecondViewController viewDidAppear
```

SecondViewController를 dismiss 하면 SecondViewController의 viewWillDisappear, viewDidDisappear가 순서대로 호출됩니다.

```llvm
SecondViewController viewWillDisappear
SecondViewController viewDidDisappear
```

### Present FullScreen

Modal Present 스타일을 FullScreen 방식으로 present 했을 때의 메서드 호출을 살펴보겠습니다.

첫 번째 ViewController가 사용자에게 보이게 될 때 ViewController의 viewDidLoad, viewWillAppear, viewDidAppear가 순서대로 호출됩니다.

```llvm
ViewController viewDidLoad
ViewController viewWillAppear
ViewController viewDidAppear
```

SecondViewController를 present 하면 SecondViewController의 viewDidLoad가 호출되어 View가 로드됩니다. 

이후 기존의 ViewController가 완전히 가려지기 때문에 ViewController의 viewWillDisappear가 호출되어 곧 ViewController가 사라질 것을 알리고, SecondViewController의 viewWillAppear, viewDidAppear가 호출되며 ViewController가 완전히 가려지면 ViewController의 viewDidDisappear가 호출됩니다.

```llvm
SecondViewController viewDidLoad
ViewController viewWillDisappear
SecondViewController viewWillAppear
SecondViewController viewDidAppear
ViewController viewDidDisappear
```

SecondViewController를 dismiss 하면 ViewController가 가려질 때와 같이 SecondViewController의 viewWillDisappear가 호출되고 ViewController의 viewWillAppear, viewDidAppear가 호출된 이후에 SecondViewController가 완전히 사라지면 SecondViewController의 viewDidDisappear가 호출됩니다.

```llvm
SecondViewController viewWillDisappear
ViewController viewWillAppear
ViewController viewDidAppear
SecondViewController viewDidDisappear
```

### Push

Navigation 방식으로 push 했을 때의 메서드 호출을 살펴보겠습니다.

첫 번째 ViewController가 사용자에게 보이게 될 때 ViewController의 viewDidLoad, viewWillAppear, viewDidAppear가 순서대로 호출됩니다.

```llvm
ViewController viewDidLoad
ViewController viewWillAppear
ViewController viewDidAppear
```

SecondViewController를 present 하면 SecondViewController의 viewDidLoad가 호출되어 View가 로드됩니다.

하지만 Modal FullScreen 방식과 다르게 메서드가 번갈아가며 호출됩니다.

```llvm
SecondViewController viewDidLoad
ViewController viewWillDisappear
SecondViewController viewWillAppear
ViewController viewDidDisappear
SecondViewController viewDidAppear
```

SecondViewController를 pop 하면 ViewController가 가려질 때와 같이 메서드가 번갈아가며 호출됩니다.

```llvm
SecondViewController viewWillDisappear
ViewController viewWillAppear
SecondViewController viewDidDisappear
ViewController viewDidAppear
```

---
## 참고 링크
- [Apple Developer: UIViewController](https://developer.apple.com/documentation/uikit/uiviewcontroller)
