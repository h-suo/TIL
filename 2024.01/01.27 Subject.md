# Today I Learned ğŸ¤“

> 2024.01.27 (í† )

## Subject

> ì™¸ë¶€ì—ì„œ ìš”ì†Œë¥¼ ê²Œì‹œí•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œë¥¼ ë…¸ì¶œí•˜ëŠ” Publisher
> 
> `iOS 13.0+` `iPadOS 13.0+` `macOS 10.15+`

```swift
protocol Subject<Output, Failure> : AnyObject, Publisher
```

### ì–¸ì œ ì‚¬ìš©í• ê¹Œ?

SubjectëŠ” send(_:) ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ìŠ¤íŠ¸ë¦¼ì— ê°’ì„ ì£¼ì…í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” Publisherì´ë©°, ê¸°ì¡´ì˜ ëª…ë ¹í˜• ì½”ë“œì— Combineì„ ì ìš©í•˜ëŠ”ë° ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br>

## PassthroughSubject

> ë‹¤ìš´ìŠ¤íŠ¸ë¦¼ subscribersì—ê²Œ ìš”ì†Œë¥¼ ë°©ì†¡í•˜ëŠ” Subject
> 
> `iOS 13.0+` `iPadOS 13.0+` `macOS 10.15+`

```swift
final class PassthroughSubject<Output, Failure> where Failure : Error
```

### ì–¸ì œ ì‚¬ìš©í• ê¹Œ?

PassthroughSubjectëŠ” Subjectì˜ êµ¬ì²´ì ì¸ êµ¬í˜„ì´ë©°, ê°’ì„ ì£¼ì…í•˜ì—¬ ìŠ¤íŠ¸ë¦¼ì„ ë§Œë“¤ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

String íƒ€ì…ì„ ê²Œì‹œí•˜ëŠ” PassthroughSubject ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê³  send ë©”ì„œë“œë¥¼ ì´ìš©í•´ ê°’ì„ ì£¼ì…í•˜ë©´ subjectë¥¼ êµ¬ë…í•˜ëŠ” subscriberê°€ ê°’ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
let subject = PassthroughSubject<String, Never>()

let subscriber = subject.sink { completion in
    print(completion)
} receiveValue: { str in
    print(str)
}

subject.send("1")
subject.send("2")
subject.send(completion: .finished)
subject.send("3")

// prints "1"
// prints "2"
// prints "finished"
```

<br>

## CurrentValueSubject

> ê¸°ë³¸ê°’ì„ ì œê³µí•˜ê³  ê°’ì´ ë°”ë€Œë©´ ìƒˆë¡œìš´ ìš”ì†Œë¥¼ ê²Œì‹œí•˜ëŠ” Subject
> 
> `iOS 13.0+` `iPadOS 13.0+` `macOS 10.15+`

```swift
final class CurrentValueSubject<Output, Failure> where Failure : Error
```

### ì–¸ì œ ì‚¬ìš©í• ê¹Œ?

PassthroughSubjectì™€ ë‹¬ë¦¬, CurrentValueSubjectëŠ” ê°€ì¥ ìµœê·¼ì— ê²Œì‹œëœ ìš”ì†Œì˜ ë²„í¼ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.

PassthroughSubjectì— ê¸°ë³¸ê°’ì„ ì œê³µí•˜ê³  ì‹¶ì€ ê²½ìš° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
let subject = CurrentValueSubject<String, Never>("0")

let subscriber = subject.sink { completion in
    print(completion)
} receiveValue: { str in
    print(str)
}

subject.send("1")
subject.send("2")
subject.send(completion: .finished)
subject.send("3")

print(subject.value)

// prints "0"
// prints "1"
// prints "2"
// prints "finished"
// prints "2"
```

---
## ì°¸ê³  ë§í¬
- [Apple Developer: Subject](https://developer.apple.com/documentation/combine/subject)
- [Apple Developer: PassthroughSubject](https://developer.apple.com/documentation/combine/passthroughsubject)
- [Apple Developer: CurrentValueSubject](https://developer.apple.com/documentation/combine/currentvaluesubject)
